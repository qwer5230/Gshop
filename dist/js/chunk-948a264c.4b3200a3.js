(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-948a264c"],{"5fe2":function(e,a,t){"use strict";t("892e")},"892e":function(e,a,t){},aeab:function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",{staticClass:"loginContainer"},[t("div",{staticClass:"loginInner"},[t("div",{staticClass:"login_header"},[t("h2",{staticClass:"login_logo"},[e._v("彪彪外卖")]),t("div",{staticClass:"login_header_title"},[t("a",{class:{on:!e.isUserName},attrs:{href:"javascript:;"},on:{click:function(a){e.isUserName=!1}}},[e._v(e._s(e.$t("phoneLogin")))]),t("a",{class:{on:e.isUserName},attrs:{href:"javascript:; "},on:{click:function(a){e.isUserName=!0}}},[e._v(e._s(e.$t("pwdLogin")))])])]),t("div",{staticClass:"login_content"},[t("form",[t("div",{class:{on:!e.isUserName}},[t("section",{staticClass:"login_message"},[t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|phone",expression:"'required|phone'"},{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{name:"phone",type:"tel",maxlength:"11",placeholder:e.$t("phone")},domProps:{value:e.phone},on:{input:function(a){a.target.composing||(e.phone=a.target.value)}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("phone"),expression:"errors.has('phone')"}],staticStyle:{color:"red"}},[e._v(e._s(e.errors.first("phone")))]),t("button",{staticClass:"get_verification",class:{right:e.isPhoneNumber},attrs:{disabled:!e.isPhoneNumber||e.countDownNumber>0},on:{click:function(a){return a.preventDefault(),e.getCode.apply(null,arguments)}}},[e._v(" "+e._s(e.countDownNumber?e.countDownNumber+" "+e.$t("getcodes"):""+e.$t("getcode"))+" ")])]),t("section",{staticClass:"login_verification"},[t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|code",expression:"'required|code'"},{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"tel",name:"code",maxlength:"8",placeholder:e.$t("code")},domProps:{value:e.code},on:{input:function(a){a.target.composing||(e.code=a.target.value)}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("code"),expression:"errors.has('code')"}],staticStyle:{color:"red"}},[e._v(e._s(e.errors.first("code")))])]),t("section",{staticClass:"login_hint"},[e._v(" "+e._s(e.$t("tips"))+" "),t("a",{attrs:{href:"javascript:;"}},[e._v(e._s(e.$t("userAgreement")))])])]),t("div",{class:{on:e.isUserName}},[t("section",[t("section",{staticClass:"login_message"},[t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{name:"name",type:"tel",maxlength:"11",placeholder:e.$t("pwdUserName")},domProps:{value:e.name},on:{input:function(a){a.target.composing||(e.name=a.target.value)}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticStyle:{color:"red"}},[e._v(e._s(e.errors.first("name")))])]),t("section",{staticClass:"login_verification"},["checkbox"===(e.isShowPwd?"tel":"password")?t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],attrs:{name:"pwd",maxlength:"8",placeholder:e.$t("pwd"),type:"checkbox"},domProps:{checked:Array.isArray(e.pwd)?e._i(e.pwd,null)>-1:e.pwd},on:{change:function(a){var t=e.pwd,n=a.target,s=!!n.checked;if(Array.isArray(t)){var r=null,o=e._i(t,r);n.checked?o<0&&(e.pwd=t.concat([r])):o>-1&&(e.pwd=t.slice(0,o).concat(t.slice(o+1)))}else e.pwd=s}}}):"radio"===(e.isShowPwd?"tel":"password")?t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],attrs:{name:"pwd",maxlength:"8",placeholder:e.$t("pwd"),type:"radio"},domProps:{checked:e._q(e.pwd,null)},on:{change:function(a){e.pwd=null}}}):t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"}],attrs:{name:"pwd",maxlength:"8",placeholder:e.$t("pwd"),type:e.isShowPwd?"tel":"password"},domProps:{value:e.pwd},on:{input:function(a){a.target.composing||(e.pwd=a.target.value)}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("pwd"),expression:"errors.has('pwd')"}],staticStyle:{color:"red"}},[e._v(e._s(e.errors.first("pwd")))]),t("div",{staticClass:"switch_button off",class:e.isShowPwd?"on":"fales",on:{click:function(a){e.isShowPwd=!e.isShowPwd}}},[t("div",{staticClass:"switch_circle",class:{right:e.isShowPwd}}),t("span",{staticClass:"switch_text"},[e._v(e._s(e.isShowPwd?"abc":"..."))])])]),t("section",{staticClass:"login_message"},[t("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.captcha,expression:"captcha"}],attrs:{name:"captcha",type:"text",maxlength:"11",placeholder:e.$t("code")},domProps:{value:e.captcha},on:{input:function(a){a.target.composing||(e.captcha=a.target.value)}}}),t("span",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("captcha"),expression:"errors.has('captcha')"}],staticStyle:{color:"red"}},[e._v(e._s(e.errors.first("captcha")))]),t("img",{ref:"captcha",staticClass:"get_verification",attrs:{src:"http://localhost:4000/captcha",alt:"captcha"},on:{click:e.toggleCaptcha}})])])]),t("button",{staticClass:"login_submit",on:{click:function(a){return a.preventDefault(),e.login.apply(null,arguments)}}},[e._v(" "+e._s(e.$t("login"))+" ")])]),t("a",{staticClass:"about_us",attrs:{href:"javascript:;"},on:{click:e.introduce}},[e._v(e._s(e.$t("about")))])]),t("a",{staticClass:"go_back",attrs:{href:"javascript:"},on:{click:e.go_back}},[t("i",{staticClass:"iconfont icon-jiantou2"})])]),t("div",{staticClass:"languageContainer"},[t("van-button",{attrs:{plain:"",type:"info"},on:{click:function(a){return e.changeLanguage("Chinese")}}},[e._v("中文")]),t("van-button",{attrs:{plain:"",type:"info"},on:{click:function(a){return e.changeLanguage("English")}}},[e._v("English")]),t("van-button",{attrs:{plain:"",type:"info"},on:{click:function(a){return e.changeLanguage("Japanese")}}},[e._v("日本語")])],1)])},s=[],r=t("1da1"),o=(t("96cf"),t("ac1f"),t("5319"),t("b0c0"),t("365c")),i={data:function(){return{isUserName:!0,isShowPwd:!1,phone:"",name:"",pwd:"",code:"",captcha:"",countDownNumber:0}},computed:{isPhoneNumber:function(){return/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phone)}},methods:{go_back:function(){this.$router.replace("/profile")},toggleCaptcha:function(){this.$refs.captcha.src="http://101.200.124.113:4000/captcha?time="+Date.now()},changeLanguage:function(e){this.$i18n.locale=e},introduce:function(){var e=this;this.$dialog.confirm({message:"您好,我叫陈彪,22届毕业生，这是我的简历，有兴趣看看吗",confirmButtonText:"行，去看看",confirmButtonColor:"#4cd96f",cancelButtonText:"算了，没兴趣"}).then((function(){e.$router.push("/vita")})).catch((function(){e.$notify({message:"彪彪难过的流下了一滴眼泪~",duration:2200,background:"#4cd96f"})}))},getCode:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var t,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.countDownNumber=5,t=setInterval((function(){e.countDownNumber--,0===e.countDownNumber&&clearInterval(t)}),1e3),a.next=4,Object(o["sendCode"])({phone:e.phone});case 4:n=a.sent,0===n.code||alert("发送验证码的API免费只允许添加3个号码，目前手机登录作废");case 6:case"end":return a.stop()}}),a)})))()},login:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var t,n,s,r,o,i,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.phone,s=e.name,r=e.pwd,o=e.code,i=e.captcha,t=e.isUserName?["name","pwd","captcha"]:["phone","code"],a.next=4,e.$validator.validateAll(t);case 4:if(c=a.sent,!c){a.next=20;break}if(!e.isUserName){a.next=13;break}return a.next=9,e.$API.loginWithUserName({name:s,pwd:r,captcha:i});case 9:l=a.sent,1===l.code&&(e.captcha="",e.toggleCaptcha()),a.next=17;break;case 13:return a.next=15,e.$API.loginWithPhone({phone:n,code:o});case 15:l=a.sent,1===l.code&&(alert("请输入正确的验证码"),e.code="");case 17:0===l.code&&(e.$router.replace("/profile"),e.$store.dispatch("getUserInfoAction",l.data)),a.next=21;break;case 20:alert("前端验证失败");case 21:case"end":return a.stop()}}),a)})))()}},mounted:function(){this.$i18n.locale="Chinese"}},c=i,l=(t("5fe2"),t("2877")),d=Object(l["a"])(c,n,s,!1,null,null,null);a["default"]=d.exports}}]);